<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">

    <!-- PWA -->
    <link rel="manifest" href="manifest.webmanifest">
    <meta name="theme-color" content="#1d1d3b">

    <!-- Mobile -->
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>AKWEL MAteur Maintenance </title>

    <style>
        :root {
            --primary: #1d1d3b;
            --danger: #e30613;
            --warning: #f59e0b;
            --info: #3b82f6;
            --bg: #f1f5f9;
            --text: #0f172a;
        }

        body {
            font-family: -apple-system, system-ui, sans-serif;
            background: var(--bg);
            color: var(--text);
            margin: 0;
        }

        .page {
            display: none;
            padding: 20px;
            min-height: 100vh;
            box-sizing: border-box;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 25px;
            background: white;
            padding: 15px;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        /* Layout */
        .grid {
            display: grid;
            gap: 12px;
        }

        .btn {
            padding: 22px;
            border: none;
            border-radius: 16px;
            background: white;
            font-size: 17px;
            font-weight: bold;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            text-align: left;
        }
        .logo-img {
  max-width: 50px;
  width: auto;
  height: auto;
        }
        @media (max-width: 360px) {
  .page { padding: 12px; }
  .btn { padding: 14px; font-size: 14px; }
  .logo-img { max-width: 130px; }
  .item-code { font-size: 16px; min-width: 48px; }
}

/* 7) √âcrans plus larges : on r√©-augmente progressivement */
@media (min-width: 480px) {
  .page { padding: 18px; }
  .btn { padding: 18px; font-size: 16px; }
  .logo-img { max-width: 190px; }
}

@media (min-width: 768px) {
  .page { padding: 20px; }
  .btn { padding: 20px; font-size: 17px; }
  .logo-img { max-width: 220px; }
}

        .btn-panne {
            border-left: 8px solid var(--danger);
            color: var(--danger);
        }

        .btn-cause {
            border-left: 8px solid var(--info);
            color: var(--info);
        }

        .btn-sub {
            border-left: 6px solid var(--primary);
            font-size: 15px;
        }

        /* Search */
        .search-bar {
            display: flex;
            gap: 10px;
            position: sticky;
            top: 0;
            background: var(--bg);
            padding: 10px 0;
            z-index: 10;
            align-items: center;
        }

        .back-btn {
            padding: 12px 15px;
            border: none;
            background: white;
            border-radius: 12px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .input-wrapper {
            position: relative;
            flex: 1;
            display: flex;
            align-items: center;
        }

        .search-input {
            width: 100%;
            padding: 15px 15px 15px 40px;
            border: 2px solid #cbd5e1;
            border-radius: 12px;
            font-size: 16px;
            outline: none;
            box-sizing: border-box;
        }

        .icon-search {
            position: absolute;
            left: 12px;
        }

        /* Results */
        .item {
            background: white;
            padding: 18px;
            border-radius: 14px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 5px solid #cbd5e1;
        }

        .item-desc {
            font-weight: 600;
            font-size: 14px;
            flex: 1;
            padding-right: 10px;
        }

        .item-code {
            font-family: monospace;
            font-size: 20px;
            font-weight: 900;
            color: var(--primary);
            background: #eff6ff;
            padding: 5px 10px;
            border-radius: 8px;
            min-width: 60px;
            text-align: center;
        }

        .highlight {
            background: #fef08a;
            padding: 0 2px;
            border-radius: 3px;
        }
    </style>
</head>

<body>

<section id="home" class="page active">
    <div class="logo-container">
        <div class="logo">AKWEL</div>
        <div style="font-size: 14px; opacity: 0.8;">MATEUR MAINTENANCE</div>
    </div>
    
    <div class="grid">
        <button class="btn btn-panne" onclick="show('menu-pannes')">
            üõ†Ô∏è PANNES <span>‚Üí</span>
        </button>
        <button class="btn btn-cause" onclick="goSearch('Cause', '')">
            üîç CAUSES RACINES <span>‚Üí</span>
        </button>
    </div>
</section>

<!-- MENU PANNES -->
<div id="menu-pannes" class="page">
    <button class="back-btn" onclick="show('home')">‚Üê Retour</button>

    <h3 style="margin-top:20px; color:var(--danger)">
        Type d'intervention :
    </h3>

    <div class="grid">
        <button class="btn btn-sub" onclick="goSearch('Panne', 'CHANGEMENT')">‚öôÔ∏è CHANGEMENT</button>
        <button class="btn btn-sub" onclick="goSearch('Panne', 'REGLAGE')">üîß REGLAGE</button>
        <button class="btn btn-sub" onclick="goSearch('Panne', 'NETTOYAGE')">üßº NETTOYAGE</button>
        <button class="btn btn-sub" onclick="goSearch('Panne', 'FIXATION')">üî© FIXATION</button>
        <button class="btn btn-sub" onclick="goSearch('Panne', 'GRAISSAGE')">üíß GRAISSAGE</button>
        <button class="btn btn-sub" onclick="goSearch('Panne', 'R√âPARATION')">üõ†Ô∏è R√âPARATION</button>
    </div>
</div>

<!-- SEARCH PAGE -->
<div id="search-page" class="page">
    <div class="search-bar">
        <button id="nav-back" class="back-btn" onclick="show('menu-pannes')">‚Üê</button>

        <div class="input-wrapper">
            <span class="icon-search">üîç</span>
            <input
                type="text"
                id="find"
                class="search-input"
                placeholder="Composant ou Code..."
                oninput="filter()">
        </div>
    </div>

    <div id="counter"
         style="font-size:12px; margin: 10px 0; color:#64748b">
    </div>

    <div id="res-list"></div>
</div>

<!-- SCRIPT √Ä AJOUTER ICI -->

</body>
</html>

<script>
if ("serviceWorker" in navigator) {
  window.addEventListener("load", () => {
    navigator.serviceWorker.register("./sw.js");
  });
}
</script>
<script>
    let curCat = '', curSub = '';
    
    // BASE DE DONN√âES (Format: Code;Type;SousType;D√©signation)
    const rawData = `1001;Panne;CHANGEMENT;ATEQ
1003;Panne;CHANGEMENT;Alimentation stabilis√©
1004;Panne;CHANGEMENT;Amplificateur
1006;Panne;CHANGEMENT;Arret d‚Äôurgence
1007;Panne;CHANGEMENT;Axe
1008;Panne;CHANGEMENT;Bassin de recuperation fuite d‚Äôeau
1009;Panne;CHANGEMENT;Bimanuel
1010;Panne;CHANGEMENT;Bobine
1011;Panne;CHANGEMENT;Bol vibrante
1012;Panne;CHANGEMENT;Bouton arr√™t d‚Äôurgence
1013;Panne;CHANGEMENT;Bouton poussoir
1014;Panne;CHANGEMENT;But√©e m√©canique
1015;Panne;CHANGEMENT;But√©e tube
1017;Panne;CHANGEMENT;Capteur
1018;Panne;CHANGEMENT;Capteur de niveau addetif
1019;Panne;CHANGEMENT;Capteur de niveau d‚Äôeau bas
1020;Panne;CHANGEMENT;Capteur de niveau d‚Äôeau maxi
1021;Panne;CHANGEMENT;Capteur de niveau d‚Äôeau mini
1022;Panne;CHANGEMENT;Capteur de pression
1023;Panne;CHANGEMENT;Capteur √©vacuation pi√®ce bonne
1024;Panne;CHANGEMENT;Capteur fin de course
1025;Panne;CHANGEMENT;Capteur M5
1026;Panne;CHANGEMENT;Capteur M8
1027;Panne;CHANGEMENT;Capteur nez de coupe
1028;Panne;CHANGEMENT;Capteur point bas
1029;Panne;CHANGEMENT;Capteur pr√©sence agrafe
1030;Panne;CHANGEMENT;Capteur pr√©sence pi√®ce sur pavet
1031;Panne;CHANGEMENT;Capteur pr√©sence pi√®ce sur plateau
1032;Panne;CHANGEMENT;Carte de commande vanne
1033;Panne;CHANGEMENT;Chariot √† bille (Glissi√®re)
1034;Panne;CHANGEMENT;Circlipsse raccord gonflant
1035;Panne;CHANGEMENT;Clapet
1036;Panne;CHANGEMENT;Connecteur
1037;Panne;CHANGEMENT;Connecteur capteur
1038;Panne;CHANGEMENT;Contact NC/NO
1039;Panne;CHANGEMENT;Convoyeur
1042;Panne;CHANGEMENT;Couvercle r√©servoir
1043;Panne;CHANGEMENT;D√©bitm√®tre
1046;Panne;CHANGEMENT;Demi-coquille
1047;Panne;CHANGEMENT;D√©tecteur de huilage
1048;Panne;CHANGEMENT;D√©tecteur de position graveur
1049;Panne;CHANGEMENT;D√©tecteur de proximit√© v√©rin
1050;Panne;CHANGEMENT;D√©t prox v√©rin avanc√©/recule cr√© plat
1051;Panne;CHANGEMENT;D√©t de prox v√©rin avanc√©/recule soufflage
1052;Panne;CHANGEMENT;D√©tecteur proximit√® v√©rin de bau√ßhonnage
1053;Panne;CHANGEMENT;D√©tecteur proximit√® v√©rin de chargement
1054;Panne;CHANGEMENT;D√©t de prox v√©rin de dech√°rg pcs bonne
1055;Panne;CHANGEMENT;D√©t proxi v√©rin d√©charg pcs mauvaise
1056;Panne;CHANGEMENT;D√©t de proxi v√©rin d√©ppince
1057;Panne;CHANGEMENT;D√©t de prox v√©rin indxeur plateau
1058;Panne;CHANGEMENT;D√©tecteur proximit√® v√©rin mont√©/descente
1059;Panne;CHANGEMENT;D√©t de prox v√©rin pince chargement
1060;Panne;CHANGEMENT;D√©t de prox v√©rin pince de d√©charg
1061;Panne;CHANGEMENT;D√©tecteur proximit√® v√©rin transversalle
1062;Panne;CHANGEMENT;D√©tecteur presence moteur
1063;Panne;CHANGEMENT;Distributeur
1064;Panne;CHANGEMENT;Doigt de centrage
1066;Panne;CHANGEMENT;DP400
1068;Panne;CHANGEMENT;ELEVtROVANNE V2V
1069;Panne;CHANGEMENT;ELEVtROVANNE V3V
1070;Panne;CHANGEMENT;Evaseur
1071;Panne;CHANGEMENT;Fibre optique
1072;Panne;CHANGEMENT;Fil capteur avec Loctite r√©sine
1073;Panne;CHANGEMENT;Fils conducteur
1074;Panne;CHANGEMENT;Filtre
1075;Panne;CHANGEMENT;Filtre camera
1076;Panne;CHANGEMENT;Flexible
1077;Panne;CHANGEMENT;Fourreau
1078;Panne;CHANGEMENT;Fourreau point de test
1079;Panne;CHANGEMENT;FRL
1082;Panne;CHANGEMENT;F√ªt
1083;Panne;CHANGEMENT;Gaine chauffant
1084;Panne;CHANGEMENT;Graveur
1085;Panne;CHANGEMENT;Guide bande
1086;Panne;CHANGEMENT;Changement R√©f√©rence
1087;Panne;CHANGEMENT;Joint
1088;Panne;CHANGEMENT;Joint d‚Äô√©tancheit√©
1089;Panne;CHANGEMENT;oint d‚Äô√©tancheit√© bau√ßhonnage
1090;Panne;CHANGEMENT;Joint d‚Äô√©tancheit√© syst√®me soufflage
1091;Panne;CHANGEMENT;Joint raccord gonflant
1092;Panne;CHANGEMENT;Kit rouleaux
1093;Panne;CHANGEMENT;Lame
1094;Panne;CHANGEMENT;Laser
1095;Panne;CHANGEMENT;Lecteur code √† barre
1096;Panne;CHANGEMENT;Levier bridage (Bronze)
1097;Panne;CHANGEMENT;Machoire
1098;Panne;CHANGEMENT;Manom√©tre
1100;Panne;CHANGEMENT;Montage goupille
1101;Panne;CHANGEMENT;More fixe
1102;Panne;CHANGEMENT;More mobile
1103;Panne;CHANGEMENT;Moteur convoyeur
1104;Panne;CHANGEMENT;Moteur tapie pi√®ce bonne
1105;Panne;CHANGEMENT;Outillage
1106;Panne;CHANGEMENT;Passe Gaine
1107;Panne;CHANGEMENT;PC
1108;Panne;CHANGEMENT;PDR Pince collier
1109;Panne;CHANGEMENT;Piston
1111;Panne;CHANGEMENT;Point test
1112;Panne;CHANGEMENT;Pompe √† eau
1113;Panne;CHANGEMENT;Pompe de recyclage
1114;Panne;CHANGEMENT;Posage de contr√¥le
1115;Panne;CHANGEMENT;Posage de soufflage
1116;Panne;CHANGEMENT;Posage Plateau
1122;Panne;CHANGEMENT;r√©f√©rence
1123;Panne;CHANGEMENT;Raccord
1124;Panne;CHANGEMENT;Raccord gonflant
1125;Panne;CHANGEMENT;Raccord rapide
1127;Panne;CHANGEMENT;Relais d‚Äôinterface de sortie
1128;Panne;CHANGEMENT;Reservoir de banc
1129;Panne;CHANGEMENT;Reservoir d‚Äôeau √©vacu√©
1130;Panne;CHANGEMENT;Ressort
1131;Panne;CHANGEMENT;Ruban adh√©sive d‚Äôimprimante
1132;Panne;CHANGEMENT;Sans validation
1136;Panne;CHANGEMENT;scotchese
1136;Panne;CHANGEMENT;S√©parateur
1137;Panne;CHANGEMENT;Silicone
1138;Panne;CHANGEMENT;Sortie bande
1139;Panne;CHANGEMENT;Souris
1140;Panne;CHANGEMENT;Support FE
1141;Panne;CHANGEMENT;Support fourreau
1142;Panne;CHANGEMENT;Support Lame (Bronze)
1143;Panne;CHANGEMENT;Support point test
1144;Panne;CHANGEMENT;Switcheur
1145;Panne;CHANGEMENT;Tapie pi√®ce bonne
1146;Panne;CHANGEMENT;Taquet de centrage
1147;Panne;CHANGEMENT;Test vision
1149;Panne;CHANGEMENT;Tournevis
1151;Panne;CHANGEMENT;Tuyauterie
1152;Panne;CHANGEMENT;Tube d‚Äôair
1153;Panne;CHANGEMENT;Tuyau d‚Äôamenage
1154;Panne;CHANGEMENT;Unit√© de coupe
1155;Panne;CHANGEMENT;Vanne proportionelle
1156;Panne;CHANGEMENT;Ventouse
1157;Panne;CHANGEMENT;V√©rin
1158;Panne;CHANGEMENT;V√©rin avanc√©/recule soufflage
1159;Panne;CHANGEMENT;V√©rin bridage pavet
1160;Panne;CHANGEMENT;V√©rin bridage pi√®ce station gravage
1161;Panne;CHANGEMENT;V√©rin but√©e Plateau
1162;Panne;CHANGEMENT;V√©rin but√©e tube
1163;Panne;CHANGEMENT;V√©rin de bau√ßhonnage
1164;Panne;CHANGEMENT;V√©rin de bridage
1165;Panne;CHANGEMENT;V√©rin de chargement
1166;Panne;CHANGEMENT;V√©rin de coupe
1167;Panne;CHANGEMENT;V√©rin de d√©chargement
1168;Panne;CHANGEMENT;V√©rin mont√©/desc√©nte
1169;Panne;CHANGEMENT;V√©rin pince decharch pcs bonne
1170;Panne;CHANGEMENT;V√©rin mont√©/descente plateau
1711;Panne;CHANGEMENT;V√©rin mont√©/descente soufflage
1172;Panne;CHANGEMENT;V√©rin pince chargement
1173;Panne;CHANGEMENT;V√©rin pince de d√©chargement
1174;Panne;CHANGEMENT;V√©rin transversalle
1176;Panne;CHANGEMENT;Vis
1177;Panne;CHANGEMENT;Vis √† bille
2001;Panne;REGLAGE;ATEQ
2002;Panne;REGLAGE;Alignement
2003;Panne;REGLAGE;Alimentation stabilis√©
2004;Panne;REGLAGE;Amplificateur
2005;Panne;REGLAGE;Armoire √©lectrique
2006;Panne;REGLAGE;Arret d‚Äôurgence
2007;Panne;REGLAGE;Alignement AXE
2008;Panne;REGLAGE;Bassin de recuperation fuite d‚Äôeau
2009;Panne;REGLAGE;Bimanuel
2010;Panne;REGLAGE;Bobine
2011;Panne;REGLAGE;Bol vibrante
2012;Panne;REGLAGE;Bouton arr√™t d‚Äôurgence
2013;Panne;REGLAGE;Bouton poussoir
2014;Panne;REGLAGE;But√©e m√©canique
2015;Panne;REGLAGE;But√©e tube
2016;Panne;REGLAGE;Cam√©ra
2017;Panne;REGLAGE;Capteur
2018;Panne;REGLAGE;Capteur de niveau addetif
2019;Panne;REGLAGE;Capteur de niveau d‚Äôeau bas
2020;Panne;REGLAGE;Capteur de niveau d'eau maxi
2021;Panne;REGLAGE;Capteur de niveau d'eau mini
2022;Panne;REGLAGE;Capteur de pression
2023;Panne;REGLAGE;Capteur √©vacuation pi√®ce bonne
2024;Panne;REGLAGE;Capteur fin de course
2025;Panne;REGLAGE;Capteur M5
2026;Panne;REGLAGE;Capteur M8
2027;Panne;REGLAGE;Capteur nez de coupe
2028;Panne;REGLAGE;Capteur point bas
2029;Panne;REGLAGE;Capteur pr√©sence agrafe
2030;Panne;REGLAGE;Capteur pr√©sence pi√®ce sur pavet
2031;Panne;REGLAGE;Capteur pr√©sence pi√®ce sur plateau
2032;Panne;REGLAGE;Carte de commande vanne
2033;Panne;REGLAGE;Chariot √† bille (Glissi√®re)
2034;Panne;REGLAGE;Circlipsse raccord gonflant
2036;Panne;REGLAGE;Connecteur
2037;Panne;REGLAGE;Connecteur capteur
2039;Panne;REGLAGE;Convoyeur
2040;Panne;REGLAGE;Cotation
2041;Panne;REGLAGE;Court circuit
2042;Panne;REGLAGE;Couvercle r√©servoir
2043;Panne;REGLAGE;D√©bitm√®tre
2044;Panne;REGLAGE;Coincement Chariot
2045;Panne;REGLAGE;Coincement outillage PM
2046;Panne;REGLAGE;Demi-coquille
2047;Panne;REGLAGE;D√©tecteur de huilage
2048;Panne;REGLAGE;D√©tecteur de position graveur
2049;Panne;REGLAGE;D√©tecteur de proximite v√©rin
2050;Panne;REGLAGE;D√©t prox v√©rin avanc√©/recul√© cr√© plat
2051;Panne;REGLAGE;D√©t de prox v√©rin avanc√©/r√©cul√© soufflage
2052;Panne;REGLAGE;D√©tecteur proximit√® v√©rin de bau√ßhonnage
2053;Panne;REGLAGE;D√©tecteur proximit√® v√©rin de chargement
2054;Panne;REGLAGE;D√©t de prox v√©rin de decharg pcs bonne
2055;Panne;REGLAGE;D√©t proxi v√©rin d√©charg pcs mauvaise
2056;Panne;REGLAGE;D√©t de prox v√©rin d√©ppince
2057;Panne;REGLAGE;D√©t de prox v√©rin indxeur plateau
2058;Panne;REGLAGE;D√©tecteur proximit√® v√©rin mont√©/desc√©nte
2059;Panne;REGLAGE;D√©t de prox v√©rin pince chargement
2060;Panne;REGLAGE;D√©t de prox v√©rin pince de d√©charg
2061;Panne;REGLAGE;D√©tecteur proximit√® v√©rin transversalle
2062;Panne;REGLAGE;D√©tecteur pr√©sence moteur
2063;Panne;REGLAGE;Distributeur
2064;Panne;REGLAGE;soudure Doigt de centrage
2065;Panne;REGLAGE;Dosage
2066;Panne;REGLAGE;DP400
2070;Panne;REGLAGE;Alignement Evaseur
2071;Panne;REGLAGE;Fibre optique
2077;Panne;REGLAGE;Fourreau
2078;Panne;REGLAGE;Fourreau point de test
2079;Panne;REGLAGE;FRL
2084;Panne;REGLAGE;Position Graveur
2085;Panne;REGLAGE;Guide bande
2092;Panne;REGLAGE;Kit rouleaux
2095;Panne;REGLAGE;position Lecteur code √† barre
2096;Panne;REGLAGE;Levier bridage (Bronze)
2097;Panne;REGLAGE;Machoire
2099;Panne;REGLAGE;M√©lodie
2103;Panne;REGLAGE;Moteur convoyeur
2104;Panne;REGLAGE;Moteur tapie pi√®ce bonne
2109;Panne;REGLAGE;Piston
2110;Panne;REGLAGE;PM
2111;Panne;REGLAGE;Point test
2114;Panne;REGLAGE;Posage de contr√¥le
2115;Panne;REGLAGE;Posage de soufflage
2116;Panne;REGLAGE;Posage Plateau
2117;Panne;REGLAGE;PPC
2118;Panne;REGLAGE;Pression
2119;Panne;REGLAGE;Pression de test
2120;Panne;REGLAGE;Pression performance blanc
2121;Panne;REGLAGE;Pression performance noir
2123;Panne;REGLAGE;Alignement Raccord
2124;Panne;REGLAGE;Alignement Raccord gonflant
2125;Panne;REGLAGE;Alignement Raccord rapide
2126;Panne;REGLAGE;Rangement cablage
2127;Panne;REGLAGE;Relais d‚Äôinterface de sortie
2128;Panne;REGLAGE;Reservoir de banc
2129;Panne;REGLAGE;Reservoir d'eau √©vacu√©
2134;Panne;REGLAGE;Sensibilit√© capteur
2135;Panne;REGLAGE;Sensibilit√© de detection
2136;Panne;REGLAGE;S√©parateur
2140;Panne;REGLAGE;Alignement Support FE
2141;Panne;REGLAGE;Support fourreau
2142;Panne;REGLAGE;Support Lame (Bronze)
2143;Panne;REGLAGE;Support point test
2146;Panne;REGLAGE;Taquet de centrage
2147;Panne;REGLAGE;Test vision
2149;Panne;REGLAGE;Tournevis
2154;Panne;REGLAGE;Unit√© de coupe
2155;Panne;REGLAGE;Vanne proportionelle
2175;Panne;REGLAGE;Verrou
2177;Panne;REGLAGE;Vis √† bille
3001;Panne;NETTOYAGE;ATEQ
3005;Panne;NETTOYAGE;Armoire √©lectrique
3008;Panne;NETTOYAGE;Bassin de recuperation fuite d'eau
3014;Panne;NETTOYAGE;But√©e m√©canique
3015;Panne;NETTOYAGE;But√©e tube
3016;Panne;NETTOYAGE;Cam√©ra
3021;Panne;NETTOYAGE;Chariot √† bille(Glissi√®re)
3031;Panne;NETTOYAGE;Demi-coquille
3063;Panne;NETTOYAGE;Distributeur
3068;Panne;NETTOYAGE;ELEVtROVANNE V2V
3069;Panne;NETTOYAGE;ELEVtROVANNE V3V
3074;Panne;NETTOYAGE;Filtre
3076;Panne;NETTOYAGE;Flexible
3077;Panne;NETTOYAGE;Fourreau
3078;Panne;NETTOYAGE;Fourreau point de test
3079;Panne;NETTOYAGE;FRL
3092;Panne;NETTOYAGE;Kit rouleaux
3097;Panne;NETTOYAGE;Machoire
3101;Panne;NETTOYAGE;More fixe
3102;Panne;NETTOYAGE;More mobile
3103;Panne;NETTOYAGE;Moteur convoyeur
3104;Panne;NETTOYAGE;Moteur tapie pi√®ce bonne
3105;Panne;NETTOYAGE;Outillage
3107;Panne;NETTOYAGE;PC
3109;Panne;NETTOYAGE;Piston
3110;Panne;NETTOYAGE;PM
3112;Panne;NETTOYAGE;Pompe √† eau
3113;Panne;NETTOYAGE;Pompe de recyclage
3128;Panne;NETTOYAGE;Reservoir de banc
3129;Panne;NETTOYAGE;Reservoir d'eau √©vacu√©
3133;Panne;NETTOYAGE;scotchese
3136;Panne;NETTOYAGE;S√©parateur
3137;Panne;NETTOYAGE;Silicone
3145;Panne;NETTOYAGE;Tapie pi√®ce bonne
3148;Panne;NETTOYAGE;TET
3149;Panne;NETTOYAGE;Tournevis
3150;Panne;NETTOYAGE;Trace sur moule
3154;Panne;NETTOYAGE;Unit√© de coupe
4001;Panne;FIXATION;ATEQ
4003;Panne;FIXATION;Alimentation stabilis√©
4004;Panne;FIXATION;Amplificateur
4005;Panne;FIXATION;Armoire √©lectrique
4006;Panne;FIXATION;Arret d'urgence
4007;Panne;FIXATION;Axe
4008;Panne;FIXATION;Bassin de recuperation fuite d'eau
4009;Panne;FIXATION;Bimanuel
4010;Panne;FIXATION;Bobine
4011;Panne;FIXATION;Bol vibrante
4012;Panne;FIXATION;Bouton arr√™t d'urgence
4013;Panne;FIXATION;Bouton poussoir
4014;Panne;FIXATION;But√©e m√©canique
4015;Panne;FIXATION;But√©e tube
4016;Panne;FIXATION;Cam√©ra
4017;Panne;FIXATION;Capteur
4018;Panne;FIXATION;Capteur de niveau add√©tif
4019;Panne;FIXATION;Capteur de niveau d'eau bas
4020;Panne;FIXATION;Capteur de niveau d'eau maxi
4021;Panne;FIXATION;Capteur de niveau d'eau mini
4022;Panne;FIXATION;Capteur de pression
4023;Panne;FIXATION;Capteur √©vacuation pi√®ce bonne
4024;Panne;FIXATION;Capteur fin de course
4025;Panne;FIXATION;Capteur M5
4026;Panne;FIXATION;Capteur M8
4027;Panne;FIXATION;Capteur nez de coupe
4028;Panne;FIXATION;Capteur point bas
4029;Panne;FIXATION;Capteur pr√©sence agrafe
4030;Panne;FIXATION;Capteur pr√©sence pi√®ce sur pavet
4031;Panne;FIXATION;Capteur pr√©sence pi√®ce sur plateau
4032;Panne;FIXATION;Carte de commande vanne
4033;Panne;FIXATION;Chariot √† bille (Glissi√®re)
4036;Panne;FIXATION;Connecteur
4037;Panne;FIXATION;Connecteur capteur
4043;Panne;FIXATION;D√©bitm√®tre
4046;Panne;FIXATION;Demi-coquille
4047;Panne;FIXATION;D√©tecteur de huilage
4048;Panne;FIXATION;D√©tecteur de position graveur
4049;Panne;FIXATION;D√©tecteur de proximite v√©rin
4050;Panne;FIXATION;D√©t prox v√©rin avanc√©/recul√© cr√© plat
4051;Panne;FIXATION;D√©t de prox v√©rin avanc√©/r√©cul√© soufflage
4052;Panne;FIXATION;D√©tecteur proximit√® v√©rin de bau√ßhonnage
4053;Panne;FIXATION;D√©tecteur proximit√® v√©rin de chargement
4054;Panne;FIXATION;D√©t de prox v√©rin de decharg pcs bonne
4055;Panne;FIXATION;D√©t proxi v√©rin d√©charg pcs mauvaise
4056;Panne;FIXATION;D√©t de prox v√©rin d√©ppince
4057;Panne;FIXATION;D√©t de prox v√©rin indxeur plateau
4058;Panne;FIXATION;D√©tecteur proximit√® v√©rin mont√©/desc√©nte
4059;Panne;FIXATION;D√©t de prox v√©rin pince chargement
4060;Panne;FIXATION;D√©t de prox v√©rin pince de d√©charg
4061;Panne;FIXATION;D√©tecteur proximit√® v√©rin transversalle
4062;Panne;FIXATION;D√©tecteur pr√©sence moteur
4063;Panne;FIXATION;Distributeur
4064;Panne;FIXATION;Doigt de centrage
4066;Panne;FIXATION;DP400
4070;Panne;FIXATION;Evaseur
4071;Panne;FIXATION;Fibre optique
4082;Panne;FIXATION;F√ªt
4084;Panne;FIXATION;Graveur
4093;Panne;FIXATION;Lame
4094;Panne;FIXATION;Laser
4095;Panne;FIXATION;Lecteur code √† barre
4096;Panne;FIXATION;Levier bridage (Bronze)
4097;Panne;FIXATION;Machoire
4098;Panne;FIXATION;Manom√©tre
4101;Panne;FIXATION;More fixe
4102;Panne;FIXATION;More mobile
4105;Panne;FIXATION;Outillage
4106;Panne;FIXATION;Passe Gaine
4123;Panne;FIXATION;Raccord
4124;Panne;FIXATION;Raccord gonflant
4125;Panne;FIXATION;Raccord rapide
4128;Panne;FIXATION;Reservoir de banc
4129;Panne;FIXATION;Reservoir d'eau √©vacu√©
4130;Panne;FIXATION;Ressort
4131;Panne;FIXATION;Ruban adh√©sive d'imprimante
4137;Panne;FIXATION;Silicone
4140;Panne;FIXATION;Support FE
4141;Panne;FIXATION;Support fourreau
4142;Panne;FIXATION;Support Lame (Bronze)
4143;Panne;FIXATION;Support point test
4144;Panne;FIXATION;Switcheur
4145;Panne;FIXATION;Tapie pi√®ce bonne
4146;Panne;FIXATION;Taquet de centrage
4147;Panne;FIXATION;Test vision
4148;Panne;FIXATION;TET
4149;Panne;FIXATION;Tournevis
4154;Panne;FIXATION;Unit√© de coupe
4155;Panne;FIXATION;Vanne proportionelle
4156;Panne;FIXATION;Ventouse
4157;Panne;FIXATION;V√©rin
4158;Panne;FIXATION;V√©rin avanc√©/r√©cul√© soufflage
4159;Panne;FIXATION;V√©rin bridage pavet
4160;Panne;FIXATION;V√©rin bridage pi√®ce station gravage
4161;Panne;FIXATION;Verin but√©e Plateau
4162;Panne;FIXATION;Verin but√©e tube
4163;Panne;FIXATION;V√©rin de bau√ßhonnage
4164;Panne;FIXATION;V√©rin de bridage
4165;Panne;FIXATION;V√©rin de chargement
4166;Panne;FIXATION;V√©rin de coupe
4167;Panne;FIXATION;V√©rin de d√©chargement
4168;Panne;FIXATION;V√©rin mont√©/desc√©nte
4169;Panne;FIXATION;V√©rin pince decharg pcs bonne
4170;Panne;FIXATION;V√©rin mont√©/descente plateau
4171;Panne;FIXATION;V√©rin mont√©/descente soufflage
4172;Panne;FIXATION;V√©rin pince chargement
4173;Panne;FIXATION;V√©rin pince de d√©chargement
4174;Panne;FIXATION;V√©rin transversalle
5007;Panne;GRAISSAGE;Axe
5014;Panne;GRAISSAGE;But√©e m√©canique
5015;Panne;GRAISSAGE;But√©e tube
5033;Panne;GRAISSAGE;Chariot √† bille (Glissi√®re)
5034;Panne;GRAISSAGE;Circlipsse raccord gonflant
5097;Panne;GRAISSAGE;Machoire
5101;Panne;GRAISSAGE;More fixe
5102;Panne;GRAISSAGE;More mobile
5109;Panne;GRAISSAGE;Piston
5110;Panne;GRAISSAGE;PM
5130;Panne;GRAISSAGE;Ressort
5157;Panne;GRAISSAGE;V√©rin
5158;Panne;GRAISSAGE;V√©rin avanc√©/r√©cul√© soufflage
5159;Panne;GRAISSAGE;V√©rin bridage pavet
5160;Panne;GRAISSAGE;V√©rin bridage pi√®ce station gravage
5161;Panne;GRAISSAGE;Verin but√©e Plateau
5162;Panne;GRAISSAGE;Verin but√©e tube
5163;Panne;GRAISSAGE;V√©rin de bau√ßhonnage
5164;Panne;GRAISSAGE;V√©rin de bridage
5168;Panne;GRAISSAGE;V√©rin mont√©/desc√©nte
5169;Panne;GRAISSAGE;V√©rin pince decharg pcs bonne
5170;Panne;GRAISSAGE;V√©rin mont√©/descente plateau
5171;Panne;GRAISSAGE;V√©rin mont√©/descente soufflage
5172;Panne;GRAISSAGE;V√©rin pince chargement
5173;Panne;GRAISSAGE;V√©rin pince de d√©chargement
5174;Panne;GRAISSAGE;V√©rin transversalle
6001;Panne;R√âPARATION;ATEQ
6003;Panne;R√âPARATION;Alimentation stabilis√©
6004;Panne;R√âPARATION;Fixation Amplificateur
6006;Panne;R√âPARATION;Arret d‚Äôurgence
6007;Panne;R√âPARATION;Axe
6012;Panne;R√âPARATION;Bouton arr√™t d'urgence
6013;Panne;R√âPARATION;Bouton poussoir
6014;Panne;R√âPARATION;But√© m√©canique
6015;Panne;R√âPARATION;But√©e tube
6033;Panne;R√âPARATION;Chariot √† bille(Glissi√®re)
6066;Panne;R√âPARATION;DP400
6068;Panne;R√âPARATION;ELEVtROVANNE V2V
6069;Panne;R√âPARATION;ELEVtROVANNE V3V
6079;Panne;R√âPARATION;FRL
6083;Panne;R√âPARATION;Gaine chauffant
6084;Panne;R√âPARATION;Graveur
6101;Panne;R√âPARATION;More fixe
6102;Panne;R√âPARATION;More mobile
6109;Panne;R√âPARATION;Piston
6110;Panne;R√âPARATION;PM
6112;Panne;R√âPARATION;Pompe √† eau
6113;Panne;R√âPARATION;Pompe de recyclage
6130;Panne;R√âPARATION;Ressort
6133;Panne;R√âPARATION;scotchese
6136;Panne;R√âPARATION;S√©parateur
6144;Panne;R√âPARATION;Switcheur
6145;Panne;R√âPARATION;Tapie pi√®ce bonne
6157;Panne;R√âPARATION;V√©rin
6158;Panne;R√âPARATION;V√©rin avanc√©/r√©cul√© soufflage
6159;Panne;R√âPARATION;V√©rin bridage pavet
6160;Panne;R√âPARATION;V√©rin bridage pi√®ce station gravage
6161;Panne;R√âPARATION;Verin but√©e Plateau
6162;Panne;R√âPARATION;Verin but√©e tube
6163;Panne;R√âPARATION;V√©rin de bau√ßhonnage
6164;Panne;R√âPARATION;V√©rin de bridage
6165;Panne;R√âPARATION;V√©rin de chargement
6166;Panne;R√âPARATION;V√©rin de coupe
6167;Panne;R√âPARATION;V√©rin de d√©chargement
6168;Panne;R√âPARATION;V√©rin mont√©/desc√©nte
6169;Panne;R√âPARATION;V√©rin pince decharg pcs bonne
6170;Panne;R√âPARATION;V√©rin mont√©/descente plateau
6171;Panne;R√âPARATION;V√©rin mont√©/descente soufflage
6172;Panne;R√âPARATION;V√©rin pince chargement
6173;Panne;R√âPARATION;V√©rin pince de d√©chargement
6174;Panne;R√âPARATION;V√©rin transversalle"
7001;Cause;;ATEQ Endommag√©e
7002;Cause;;Alignement NC
7003;Cause;;Alimentation stabilis√©e Endommag√©e
7004;Cause;;Amplificateur Endommag√©
7005;Cause;;Armoire √©lectrique Endommag√©e
7006;Cause;;Arr√™t d'urgence Endommag√©
7007;Cause;;AXE Non Align√©e
7008;Cause;;Bassin r√©cup√©ration fuite eau Endommag√©
7009;Cause;;Bimanuel Endommag√©e
7010;Cause;;Bobine Endommag√©e
7011;Cause;;Bol vibrante Endommag√©e
7012;Cause;;Bouton arr√™t d'urgence Endommag√©
7013;Cause;;Bouton poussoir Endommag√©
7014;Cause;;But√©e m√©canique mal fix√©e
7015;Cause;;But√©e tube mal fix√©e
7016;Cause;;D√©tection Cam√©ra Non fiable
7017;Cause;;Capteur Endommag√©
7018;Cause;;Capteur de niveau additif Endommag√©
7019;Cause;;Capteur de niveau d'eau bas Endommag√©
7020;Cause;;Capteur de niveau d'eau maxi Endommag√©
7021;Cause;;Capteur de niveau d'eau mini Endommag√©
7022;Cause;;Capteur de pression Endommag√©
7023;Cause;;Capteur √©vacuation pi√®ce bonne Endommag√©
7024;Cause;;Capteur fin de course Endommag√©
7025;Cause;;Capteur M5 Endommag√©
7026;Cause;;Capteur M8 Endommag√©
7027;Cause;;Capteur nez de coupe Endommag√©
7028;Cause;;Capteur point bas Endommag√©
7029;Cause;;Capteur pr√©sence agrafe Endommag√©
7030;Cause;;Capteur pr√©sence pi√®ce / pavet Endommag√©
7031;Cause;;Capteur pr√©sence pi√®ce plateau Endommag√©
7032;Cause;;Carte de commande vanne Endommag√©e
7033;Cause;;Chariot √† bille (Glissi√®re) Endommag√©e
7034;Cause;;Serre clips raccord gonflant Endommag√©
7035;Cause;;Clapet Endommag√©e
7036;Cause;;Connecteur Endommag√©
7037;Cause;;Connecteur capteur Endommag√©
7038;Cause;;Contact NC/NO Endommag√©
7039;Cause;;Convoyeur Endommag√©
7040;Cause;;Cotation NC
7042;Cause;;Couvercle reservoir Endommag√©
7043;Cause;;D√©bim√®tre Endommag√©
7046;Cause;;Demi-coquille mal fix√©e
7047;Cause;;Demi-coquille mal fix√©e
7048;Cause;;D√©tecteur de huilage Endommag√©
7049;Cause;;D√©tecteur position graveur Endommag√©
7050;Cause;;D√©tecteur de proximit√© v√©rin Endommag√©
7051;Cause;;D√©t prox verin avanc√©/r√©cu souf Endom
7052;Cause;;D√©t prox verin de bouchonnage Endom
7053;Cause;;D√©t prox verin de chargement Endom
7054;Cause;;D√©t prox verin D√©charg pc bon Endom
7055;Cause;;D√©t prox verin D√©charg pc mauv Endom
7056;Cause;;D√©t prox verin D√©ppince pc bon Endom
7057;Cause;;D√©t prox verin indixeur plateau Endom
7058;Cause;;D√©t prox verin mont√©/d√©scente Endom
7059;Cause;;D√©t prox verin pince chargement Endom
7060;Cause;;D√©t prox verin pince de d√©char Endom
7061;Cause;;D√©t prox verin transversalle Endom
7062;Cause;;D√©t pr√©sence moteur Endommag√©
7063;Cause;;D√©tecteur presence moteur Endommag√©
7064;Cause;;Distributeur Endommag√©
7065;Cause;;Doigt de centrage dessoud√©
7066;Cause;;Dosage NC
7068;Cause;;ELEVTROVANNE V2V Endommag√©e
7069;Cause;;ELEVTROVANNE V3V Endommag√©e
7070;Cause;;√âvaseur mal fix√©
7071;Cause;;Fibre optique Endommag√©
7072;Cause;;Fil capteur Endommag√©
7073;Cause;;Fils conducteur Endommag√©
7074;Cause;;Filtre Endommag√©
7075;Cause;;Filtre camera Endommag√©
7076;Cause;;Flexible Endommag√©
7077;Cause;;Fourreau Endommag√©
7078;Cause;;Fourreau point de test Endommag√©
7079;Cause;;FRL Endommag√©
7080;Cause;;Fuite d'air
7081;Cause;;Fuite d'eau
7082;Cause;;F√ªt Endommag√©
7083;Cause;;Gaine chauffant Endommag√©
7084;Cause;;Graveur Endommag√©
7085;Cause;;Guide bande Endommag√©
7087;Cause;;Joint d√©chir√©
7088;Cause;;Joint d'√©tancheit√© sys souflage d√©chir√©
7089;Cause;;Joint d'√©tancheit√© bouchonnage d√©chir√©
7090;Cause;;Joint d'√©tancheit√© sys souflage d√©chir√©
7091;Cause;;Joint raccord gonflant d√©chir√©
7092;Cause;;Kit rouleaux us√©
7093;Cause;;Lame us√©
7094;Cause;;Laser mal fix√©
7095;Cause;;Lecteur code √† barre mal fix√©
7096;Cause;;Levier bridage (Bronze) endommag√©e
7097;Cause;;Machoire Endommag√©
7098;Cause;;Manom√®tre endommag√©
7100;Cause;;Manque de goupille
7101;Cause;;More fixe mal fix√©e
7102;Cause;;More mobile mal fix√©e
7103;Cause;;Moteur convoyeur endommag√©
7104;Cause;;Moteur tapie pi√®ce bonne endommag√©
7106;Cause;;Passe Gaine endommag√©e
7107;Cause;;PC bloquer
7109;Cause;;Piston endommag√©e
7110;Cause;;PM endommag√©e
7111;Cause;;Point de test endommag√©
7112;Cause;;Pompe √† eau endommag√©e
7113;Cause;;Posage de controle NC
7114;Cause;;Posage de soufflage NC
7115;Cause;;Posage Plateau NC
7116;Cause;;Posage Plateau NC
7117;Cause;;PPC endommag√©e
7119;Cause;;Pression de test NC
7120;Cause;;Pression performance blanc NC
7121;Cause;;Pression performance noir NC
7123;Cause;;Raccord mal fix√©
7124;Cause;;Raccord gonflant mal fix√©
7125;Cause;;Raccord rapide mal fix√©
7126;Cause;;Raccord rapide mal fix√©
7127;Cause;;5S
7128;Cause;;Relais d'interface de sortie Endommag√©e
7129;Cause;;Reservoir de banc Endommag√©e
7130;Cause;;Reservoir d'eau √©vacu√© Endommag√©e
7133;Cause;;Scotcheuse Endommag√©e
7134;Cause;;Sensibilit√© capteur Non fiable
7135;Cause;;Sensibilit√© de detection Non fiable
7136;Cause;;S√©parateur Endommag√©
7137;Cause;;Silicone d√©grad√©
7138;Cause;;Sortie bande Endommag√©e
7139;Cause;;Souris Endommag√©
7140;Cause;;Support FE mal fix√©
7141;Cause;;Support fourreau mal fix√©
7142;Cause;;Support Lame (Bronze) mal fix√©
7143;Cause;;Support point test mal fix√©
7144;Cause;;Switch eur Endommag√©
7145;Cause;;Tapie pi√®ce bonne Endommag√©e
7146;Cause;;Taquet de centrage Endommag√©
7147;Cause;;Test vision Endommag√©
7148;Cause;;TET Endommag√©
7149;Cause;;Tournevis Endommag√©
7150;Cause;;Trace sur moule
7151;Cause;;Tuyauterie Endommag√©e
7152;Cause;;Tube d'air Endommag√©
7153;Cause;;Tuyau d'amenage Endommag√©
7154;Cause;;Unit√© de coupe Endommag√©e
7155;Cause;;Vanne proportionelle Endommag√©e
7156;Cause;;Ventouse Endommag√©e
7157;Cause;;Verin Endommag√©
7158;Cause;;Verin avanc√©/r√©cul√© soufflage Endommag√©
7159;Cause;;Verin bridage pavet Endommag√©
7160;Cause;;Verin bridage pcs station gravage Endom
7161;Cause;;Verin but√©e Plateau Endommag√©
7162;Cause;;Verin but√©e tube Endommag√©
7163;Cause;;Verin de bouchonnage Endommag√©
7164;Cause;;Verin de bridage Endommag√©
7165;Cause;;Verin de chargement Endommag√©
7166;Cause;;Verin de coupe Endommag√©
7167;Cause;;Verin de d√©chargement Endommag√©
7168;Cause;;Verin mont√©/d√©scente Endommag√©
7169;Cause;;Verin mont√©/d√©sc pin dech pcs bon Endom
7170;Cause;;Verin mont√©/d√©scente plateau Endommag√©
7171;Cause;;Verin mont√©/d√©scente soufflage Endommag√©
7172;Cause;;Verin pince chargement Endommag√©
7173;Cause;;Verin pince de d√©chargement Endommag√©
7174;Cause;;Verin transversalle Endommag√©
7175;Cause;;Verrou NC
7176;Cause;;Vis Endommag√©
7177;Cause;;Vis √† bille Endommag√©`;

    // Note: Ajoutez ici le reste de vos 300 lignes en suivant le m√™me format.
    // Pour Cause, laissez le 3√®me champ vide comme ceci : 7001;Cause;;D√©signation

    const db = rawData.split('\n').map(line => {
        const [c, t, s, d] = line.split(';');
        return { c, t, s, d };
    });

    function show(id) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    function goSearch(cat, sub) {
        curCat = cat; curSub = sub;
        const inp = document.getElementById('find');
        inp.value = '';
        document.getElementById('res-list').innerHTML = '';
        document.getElementById('counter').innerText = "Saisissez le nom du composant...";
        
        // Retour intelligent
        document.getElementById('nav-back').onclick = () => {
            cat === 'Cause' ? show('home') : show('menu-pannes');
        };
        
        show('search-page');
        setTimeout(() => inp.focus(), 300);
    }

    function filter() {
    const query = document.getElementById('find').value.toLowerCase().trim();
    const resList = document.getElementById('res-list');
    resList.innerHTML = '';
    
    // Si le champ est vide, on n'affiche rien
    if(query.length < 1) {
        document.getElementById('counter').innerText = "";
        return;
    }

    const results = db.filter(i => {
        // 1. Force la cat√©gorie (Panne ou Cause)
        const isSameCat = (i.t === curCat);
        
        // 2. Force le sous-menu (CHANGEMENT, FIXATION, etc.)
        // Si curSub est vide (cas des Causes), on ignore ce test
        const isSameSub = (curSub === '' || i.s.trim() === curSub.trim());

        // 3. V√©rifie si le texte ou le code correspond
        const matchesQuery = (i.d.toLowerCase().includes(query) || i.c.includes(query));

        // Le r√©sultat doit valider les 3 conditions en m√™me temps
        return isSameCat && isSameSub && matchesQuery;
    });

    document.getElementById('counter').innerText = results.length + " r√©sultat(s)";

    // Affichage des r√©sultats
    results.forEach(m => {
        const div = document.createElement('div');
        div.className = 'item';
        
        // Surlignage du texte recherch√©
        const regex = new RegExp(`(${query})`, 'gi');
        const highlightedDesc = m.d.replace(regex, '<span class="highlight">$1</span>');
        
        div.innerHTML = `
            <div class="item-desc">
                <small style="color:var(--info); display:block; font-size:10px">${m.s}</small>
                ${highlightedDesc}
            </div>
            <div class="item-code">${m.c}</div>
        `;
        resList.appendChild(div);
    });
}
</script>
</body>
</html>

















